\documentclass[letterpaper,12pt,onecolumn,final]{report}

\pdftrailerid{}
\pdfsuppressptexinfo15
\pdfminorversion=4

%% MANDATORY PACKAGES
\usepackage{cuthesis}         % Concordia's thesis style
\usepackage[english]{babel}   % load english localization
\usepackage{type1ec}          % type 1 font
\usepackage[T1]{fontenc}      % correct some font representation, needs cm-super fonts
\usepackage{times}            % use Times New Roman font
\usepackage[titletoc,title]{appendix}     % include Appendix command, add to ToC
\usepackage{setspace}         % control double/single line spacing
\usepackage[pdftex]{graphicx}
\usepackage{caption,tabularx,booktabs}
\usepackage{array}
\usepackage{csquotes}
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}
%% OPTIONAL PACKAGES
%\counterwithout{footnote}{chapter}        % do no reset footnote # between chapters
\usepackage[hyphens]{url}     % print links
\usepackage{hyperref}         % provides hyperlinks (text different than link)
%\usepackage[hyphenbreaks]{breakurl}       % break long URL after hyphens
\hypersetup{
	colorlinks=true,
	breaklinks=true,
	linkcolor=black,
	citecolor=black,
	urlcolor=black,
	filecolor=black,
	linktoc=all,
}
\usepackage{graphicx}
%\graphicspath{{img/}}

\usepackage{blindtext}

%% CUSTOM MACROS
\usepackage{xspace}
\newcommand{\etal}{\textit{et al.}\xspace}
\newcommand{\etc}{\textit{etc.}\xspace}
\newcommand{\ie}{\textit{i.e.,}\xspace}
\newcommand{\eg}{\textit{e.g.,}\xspace}
\newcommand{\cf}{\textit{cf.}\xspace}
\newcommand{\supra}{\textit{Supra}\xspace}
\newcommand{\nee}{\textit{n\'ee}\xspace}
\newcommand{\aka}{\textit{a.k.a.,}\xspace}

% = = = Arrow -> (\lt)
\newcommand{\lt}{$\rightarrow$\xspace}

% = = = Keywords (kw)
\newcommand{\kw}[1]{\textsf{#1}}

% = = = Colored text (textblue)
\newcommand{\textblue}[1]{\textcolor{blue}{#1}}

% = = = Compact Lists (compactlist, compactlistn)
\newenvironment{compactlist}
  {\begin{itemize} 
  \setlength{\itemsep}{0pt} 
  \setlength{\parskip}{0pt}} 
  {\end{itemize}}
  
\newenvironment{compactlistn}
  {\begin{enumerate} 
  \setlength{\itemsep}{0pt} 
  \setlength{\parskip}{0pt}} 
  {\end{enumerate}}
  
\renewcommand{\labelitemi}{$\bullet$}
  

%------------------------Crypto----------------------%  

% = = = Zp, Gq and Zq
\newcommand{\Zp}{\mathbb{Z}^{*}_{p}}
\newcommand{\Zq}{\mathbb{Z}_{q}}
\newcommand{\Gq}{\mathbb{G}_{q}}

% = = = Encryption, etc.
\newcommand{\Enc}[1]{\mathsf{Enc}(#1)}
\newcommand{\EncB}[1]{\llbracket #1 \rrbracket}
\newcommand{\ReRand}[1]{\mathsf{ReRand}(#1)}
\newcommand{\Hash}[1]{\mathcal{H}(#1)}
\newcommand{\Sign}[1]{\mathsf{Sig}(#1)}
\newcommand{\Comm}[1]{\mathsf{Comm}(#1)}
\newcommand{\Open}[1]{\mathsf{Open}(#1)}

% = = = Tuples
\newcommand{\tuple}[1]{\left \langle #1 \right \rangle}


%-------------------Custom for Paper----------------------%

% = = = Name
\newcommand{\Name}{\textsf{System Name}\xspace}
\newcommand{\dai}{\textsf{Dai}\xspace}
\newcommand{\cdp}{\textsf{CDP}\xspace}
\newcommand{\vault}{\textsf{Vault}\xspace}

%\newcommand{\tickyes}{{\small\checkmark}}
%\newcommand{\tickno}{{\small$\times$}}
% TABLES:
\usepackage{adjustbox}
\newcommand{\headrow}[1]{\multicolumn{1}{c}{\adjustbox{angle=30,lap=\width-0.5em}{#1}}}
\newcommand{\full}{$\bullet$}
\newcommand{\prt}{$\circ$}
\newcommand{\none}{$\times$}
%% CUSTOM COMMANDS
%\newcommand{\subhead}[1]{\noindent{\textbf{#1.}}}
\input{setup/packages}
%% THESIS SETTINGS
\author{Mehdi Salehi}
\title{An Analysis of Upgradeability, Oracles, and Stablecoins in Ethereum Blockchain}

% As of 2019, title is no longer used...
%\titleOfPhDAuthor{Mr.}         % or Ms., Mrs., Miss, etc. (only for PhD's)

% if PhD, uncomment:
%\PhD
% else if Master's, uncomment:
\mastersDegree{Master of Applied Science}

\program{Information and Systems Engineering}
%\program{Computer Science}
\dept{The Concordia Institute\\for\\Information Systems Engineering}
%\dept{The Department\\of\\Computer Science and Software Engineering}

%% See current GPD at https://www.concordia.ca/admissions/graduate/programs/contacts.html
\GpdOrChairOfDept{}
\isGpd % Chair by default
%% See current Dean at  https://www.concordia.ca/ginacody/about/leadership/office-dean/dean-of-engineering-and-computer-science.html
\deanOfENCS{Dr.\ Mourad Debbabi} 
\chairOfCommittee{Dr.\ Chair}
\examinerFirst{Dr.\ Examiner1}
\examinerSecond{Dr.\ Examiner2}
\supervisor{Dr. Jeremy Clark}
%% Following two lines are required if you have a co-supervisor
\hasCosupervisor
\coSupervisor{Dr. Mohammad Mannan}

%% Comment to use current month, needs to match initial submission
\submitmonth{March}
\submityear{2022}
%% Comment if date of defence is unknown yet, fill for final submission
\defencedate{April 1, 2022}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\doublespacing
\begin{document}

\begin{abstract}
{%trick to force double spacing in the abstract, otherwise some paragraphs may show single spaced
\setstretch{1.6667}

Ethereum blockchain is widely adopted globally as an alternative to cloud computing platforms in specific use-cases such as financial services. Given the large number of funds held by smart contracts and Decentralized Applications on top of Ethereum, there are profound security implications for both users and enterprise developers.

Over time, more complex logic has been brought to the Ethereum blockchain, which requires secure access to real-world data. In most cases, the system's whole logic and security strongly depend on the correctness and safeness of the data pushed to the blockchain. New components are added along with the blockchain infrastructures named oracles to respond to this need.
The more complex the code, the more probable that the code has bugs or needs to add new features. So, there should be a way to upgrade the codes in Ethereum even though smart contracts are immutable and tamper-proof. New patterns are introduced to handle the upgradeability of the smart contracts in Ethereum. The broad adoption of decentralized applications brought another need in the service layers. The payments by user need to be in stable currencies such as USD and not blockchain native currencies such as ETH, which are volatile in price. This brings the idea of developing stablecoins pegged to a stable currency like the USD.

Adding upgradeability patterns, oracles, and stablecoins to decentralized applications and smart contract logic adds significant security risks and the need to use a trusted third party, which is against disintermediation in the blockchain ecosystem. This thesis explains each component in detail and clarifies the risks and central trusted points that will be added because of each component. We also try to extend the design choices for each component to give the designer a broader spectrum, which may help make the systems more secure.   


}
\end{abstract}

%\doublespacing
\begin{acknowledgments}
	% keep this section even if empty

\end{acknowledgments}


%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%
\include{chapters/chapter1/chapter1}
\include{chapters/chapter2/chapter2}
\include{chapters/chapter3/chapter3}
\include{chapters/chapter4/chapter4}
\include{chapters/chapter5/chapter5}


%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Conclusion and Future Works}
\label{chap:conclusion}

In this dissertation, we present an analysis of upgradeability, oracles, and stablecoins in the Ethereum blockchain, which are three components in Ethereum that add centrality by putting a trust point in the system and increasing the attack vectors of the decentralized applications ecosystem.

We describe six different patterns to add upgradeability features to immutable smart contracts and evaluate each method, to give the smart contract developers an insight into the pros and cons of each method. We prepared a dataset of upgradeable proxy contracts-- the most widely used upgrade pattern in Ethereum at the time. We also investigate the admin type of a dataset of upgradeable contracts. The main takeaway from studying upgradeability on Ethereum is that immutability, as a core property of blockchain, is oversold. Also, we show that almost 64\% of smart contracts are in the control of a centralized agent who can decide to change the whole logic of the system.

We also describe a specialized modular framework to analyze the oracle system in Ethereum. After our systematization, we claim that diversity in software promotes resilience in the system. Most Ethereum projects depend on the data provided by Chainlink oracle, which can be a single point of failure for the Ethereum ecosystem. There is a need to diversify the oracle systems. Also, we propose that to have a secure oracle, it should have a mechanism to ensure that the profit from corruption is lesser than the cost of corruption. Nevertheless, the problem is that one can never capture the full extent of the potential profit because attackers may profit outside of Ethereum by attacking oracles on Ethereum. 

Researching the stable coins shows how price changes on the underlying assets (\eg ETH) may negatively affect the stablecoin systems. A myriad of users who uses these stablecoins assumes that the price of stablecoins is stable. However, they do not know about the under the hood of the stablecoin systems and the risks regarding the price of the stablecoins. We also show a different design spectrum other than a liquidation to ensure that the stablecoin is pegged to a US dollar.

For future work, the dataset provided in our research can be used to show undiscovered facts about upgrade events in Ethereum. For instance, one can research the number of upgrades of the Dapps in Ethereum and investigate the reason behind upgrades. It may show a new way to find hacks or incidents that the developer team tried to hide. In oracle research, many theoretical vulnerabilities are proposed to different modules of oracles which one can research to show the effectiveness of each of the vulnerabilities. In stablecoin research, it would be helpful to have research results on the most suitable financial model for the ETH/USD price rate (\eg drift-diffusion or GARCH) for us to use. Future work could also examine the benefits of building a \dai alternative based on red-black coins but using different design parameters.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Bibliography
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\clearpage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliography}  %  Add Bibliography to TOC
\singlespacing % save space in the bibliography
\bibliographystyle{abbrv}
\bibliography{references,bib/pulp.bib,bib/new.bib,bib/bib.bib}



%%%%%%%%%% Appendices %%%%%%%%%%%%%%%%
% ---- Appendix settings. Please Do NOT change them. -----
\appendix
\setcounter{table}{0}		% reset the table counter
\setcounter{figure}{0}		% reset the figure counter
\renewcommand{\thefigure}{\Alph{chapter}.\arabic{figure}} 	% numbering the a figure in Appendix as Figure A.2, Figure B.1, etc.
\renewcommand{\thetable}{\Alph{chapter}.\arabic{table}}		% numbering the a table in Appendix as Table A.2, Table B.1, etc.

%%%%%%%%%% Body of Appendix %%%%%%%%%%%%%%%%
%\begin{appendices}
%\doublespacing

%\chapter{First Appendix}
%\label{chap:apdx1}



%\chapter{Concordia Logos}
%\label{chap:logos}
%\begin{figure}[h!]
%	\centering
%	\includegraphics{logos/Concordia_University_logo}
%	\caption{Concordia University}
%\end{figure}
%\vspace{2em}
%\begin{figure}[h!]
%	\centering
%	\includegraphics{logos/Concordia_GinaCody_vertical}
%	\caption{Gina Cody School of Engineering and Computer Science (vertical)}
%\end{figure}
%\vspace{2em}
%\begin{figure}[h!]
%	\centering
%	\includegraphics{logos/Concordia_GinaCody_horizontal}
%	\caption{Gina Cody School of Engineering and Computer Science (horizontal)}
%\end{figure}

%\end{appendices}

\end{document}